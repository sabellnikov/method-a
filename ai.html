---
layout: default
---

<style>
  /* Fallback для динамической высоты viewport */
  .dynamic-height {
    height: 100vh; /* Fallback */
    height: calc(var(--vh, 1vh) * 100); /* Динамическая высота */
  }
  
  /* Предотвращение рывков формы при загрузке */
  .chat-form {
    transform: translateY(0) !important; /* Принудительная начальная позиция */
  }
  
  /* Плавные переходы только после загрузки */
  .chat-form.initialized {
    transition: transform 0.3s ease-out;
  }
</style>

<div class="max-w-3xl mx-auto flex flex-col rounded-2xl bg-transparent relative dynamic-height">
  <!-- Контейнер сообщений с компактными отступами -->
  <div class="flex-1 px-3 sm:px-6 pt-16 sm:pt-16 pb-34 sm:pb-26 overflow-hidden chat-messages">
    <div class="h-full overflow-y-auto scroll-smooth">
      <!-- Сообщения будут добавляться здесь динамически -->
    </div>
  </div>
  
  <!-- Компактная форма ввода -->
  <form class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-[calc(100%-1.5rem)] sm:w-[calc(100%-3rem)] z-10 flex gap-2 sm:gap-3 bg-transparent border-none chat-form px-3 pt-3 pb-16 sm:p-6" autocomplete="off">
    <div class="relative flex-1">
      <input 
        class="w-full px-3 sm:px-4 py-3.5 sm:py-5 pr-12 sm:pr-14 rounded-full bg-white text-base sm:text-base outline-none transition-all duration-300 placeholder-teal-600/50 border-none shadow-none chat-input" 
        type="text" 
        placeholder="Введите сообщение..." 
        autocomplete="off" 
        autocapitalize="off"
        autocorrect="off"
        spellcheck="false"
        data-form-type="other"
        name="chat-message"
      />
      <button 
        type="submit" 
        aria-label="Отправить" 
        class="absolute right-1.5 sm:right-2 top-1/2 -translate-y-1/2 bg-teal-700 hover:bg-teal-800 focus:bg-teal-800 text-white w-9 h-9 sm:w-12 sm:h-12 rounded-full flex items-center justify-center transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-200 chat-btn"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 sm:w-6 sm:h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </button>
    </div>
  </form>
</div>

<script src="/resources/js/ai/ai-from.js"></script>